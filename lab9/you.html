<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function question(qid,answer){
            this.qid=qid;
            this.answer=answer;
        }
        question.prototype.checkAnswer=function(answer){
            return this.answer=answer;
        }
        function student(studentid){
            this.studentid=studentid;
            this.answers=[];
        }
        student.prototype.addAnswer =function(question){
            return this.answers.push(question);

        }
        function quiz(questions, students){
            this.questions=new map();
            questions.forEach(q=>this.questions.set(q.qid, q.answer));
            this.students=students;
        }
quiz.prototype.scoreStudnet=function(studentId){
    const student = this.students.filter(x=>x.studentId===studentId[0]);
    return student.answer.reduce((sum, currentquestion)=>{
        if(currentquestion.checkAnswer(this.questions.get(currentquestion.qid))){
            sum =sum+1;
        }
return sum;
    },0);
}
quiz.prototype.getAverageScore=function(){
    return this.students.reduce((acc,stud,i,array)=>{
        return acc + this.scoreStudnet(stud.studentId)/array.length
    },0 );
}
const student1 = new student(10);
student1.addAnswer(new Question(2, 'a'));
student1.addAnswer(new Question(3, 'b'));
student1.addAnswer(new Question(1, 'b'));
const student2 = new Student(11);
student2.addAnswer(new Question(3, 'b'));
student2.addAnswer(new Question(2, 'a'));
student2.addAnswer(new Question(1, 'd'));
const students = [student1, student2];
const questions =[new Question(1, 'b'), new Question(2, 'a'), new
Question(3, 'b')];
const quiz1 = new quiz(questions, students);
let scoreforStudent10 = quiz1.scoreStudentBySid(10);
console.log(scoreforStudent10); //Expected Result: 3
let scoreforStudent11 = quiz1.scoreStudentBySid(11);
console.log(scoreforStudent11); //Expected Result: 2
let average = quiz1.getAverageScore();
console.log(average); //Expected Reuslt: 2.5

    </script>
</body>
</html>